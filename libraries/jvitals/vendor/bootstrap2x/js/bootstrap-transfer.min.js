(function(e){e.fn.bootstrapTransfer=function(t){var i,n=e.extend({},e.fn.bootstrapTransfer.defaults,t);return this.populate=function(e){i.populate(e)},this.set_values=function(e){i.set_values(e)},this.get_values=function(){return i.get_values()},this.each(function(){return i=e(this),i.append(n.template),i.addClass("bootstrap-transfer-container"),i.$remaining_select=i.find("select.remaining"),i.$target_select=i.find("select.target"),i.$target_checkboxes=i.find("div.target-checkboxes"),i.$target_name=n.target_name,i.$add_btn=i.find(".selector-add"),i.$remove_btn=i.find(".selector-remove"),i.$choose_all_btn=i.find(".selector-chooseall"),i.$clear_all_btn=i.find(".selector-clearall"),i._remaining_list=[],i._target_list=[],i.find("select.filtered").css("height",n.height),i.$add_btn.click(function(){return i.move_elems(i.$remaining_select.val(),!1,!0),!1}),i.$remove_btn.click(function(){return i.move_elems(i.$target_select.val(),!0,!1),!1}),i.$choose_all_btn.click(function(){return i.move_all(!1,!0),!1}),i.$clear_all_btn.click(function(){return i.move_all(!0,!1),!1}),i.populate=function(t){e.each(t,function(e,t){i._remaining_list.push([t,!0]),i._target_list.push([t,!1])}),i.update_lists()},i.set_values=function(e){i.move_elems(e,!1,!0)},i.get_values=function(){return i.get_internal(i.$target_select)},i.get_internal=function(t){var i=[];return t.find("option").each(function(){i.push(e(this).val())}),i},i.to_dict=function(e){var t={};for(var i in e)t[e[i]]=!0;return t},i.update_lists=function(){i.$remaining_select.empty(),i.$target_select.empty(),i.$target_checkboxes.empty(),e.each(i._remaining_list,function(e,t){if(t[1]){var n="<option value="+t[0].value+">"+t[0].content+"</option>";i.$remaining_select.append(n)}}),e.each(i._target_list,function(e,t){if(t[1]){var n="<option value="+t[0].value+">"+t[0].content+"</option>";i.$target_select.append(n);var s='<input type="checkbox" checked="checked" name="'+i.$target_name+'[]" value='+t[0].value+">";i.$target_checkboxes.append(s)}})},i.move_elems=function(t,n,s){var o=i._remaining_list;e.each(o,function(o,a){var r=""+a[0].value;-1!=e.inArray(r,t)&&(i._remaining_list[o][1]=n,i._target_list[o][1]=s)}),i.update_lists()},i.move_all=function(t,n){var s=i._remaining_list;i._remaining_list=[],i._target_list=[],e.each(s,function(e,s){i._remaining_list.push([s[0],t]),i._target_list.push([s[0],n])}),i.update_lists()},i.data("bootstrapTransfer",i),i})},e.fn.bootstrapTransfer.defaults={template:'<table width="100%" cellspacing="0" cellpadding="0">                <tr>                    <td width="50%">                        <div class="selector-available">                            <h2>Available</h2>                            <select multiple="multiple" class="filtered remaining">                            </select>                            <a href="#" class="selector-chooseall">Choose all</a>                        </div>                    </td>                    <td>                        <div class="selector-chooser">                            <a href="#" class="selector-add">add</a>                            <a href="#" class="selector-remove">rem</a>                        </div>                    </td>                    <td width="50%">                        <div class="selector-chosen">                            <h2>Chosen</h2>                            <select multiple="multiple" class="filtered target" name="#target_name#">                            </select>                            <a href="#" class="selector-clearall">Clear all</a>                        </div>                    </td>                </tr>            <div class="target-checkboxes" style="display: none;"></div>            </table>',height:"10em",target_name:"target"}})(jQuery);